<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	template="/templates/template.xhtml">

	<!-- content -->
	<ui:define name="content">
		<h2>#{m['register_header']}</h2>
		<h:form>
		
			<h:outputLabel for="fname" >
				<h:outputText value="#{m['user_firstname']}" />
			</h:outputLabel>
			<h:inputText id="fname" size="40"
				value="#{userManager.user.firstName}" required="true"
				requiredMessage="#{m['firstname_required']}">
				<f:validateRegex pattern="\w{3,30}"/>
			</h:inputText>
			
			<h:outputLabel for="lname" >
				<h:outputText value="#{m['user_lastname']}" />
			</h:outputLabel>
			<h:inputText id="lname" size="40"
				value="#{userManager.user.lastName}" required="true"
				requiredMessage="#{m['lastname_required']}">
				<f:validateRegex pattern="\w{3,30}"/>
			</h:inputText>
			
			<h:outputLabel for="usr" >
				<h:outputText value="#{m['user_username']}" />
			</h:outputLabel>
			<h:inputText id="usr" size="40"
				value="#{userManager.user.username}" required="true"
				requiredMessage="#{m['username_required']}">
				<f:validateRegex pattern="\w{3,30}"/>
			</h:inputText>
			
			<h:outputLabel for="pass1" >
				<h:outputText value="#{m['user_password']}" />
			</h:outputLabel>
			<h:inputSecret id="pass1" size="40"
				value="#{userManager.user.password}" required="true"
				requiredMessage="#{m['password_required']}">
			</h:inputSecret>
			
			<h:outputLabel for="pass2" >
				<h:outputText value="#{m['user_password2']}" />
			</h:outputLabel>
			<h:inputSecret id="pass2" size="40"
				value="#{userManager.checkPassword}" required="true" 
				requiredMessage="#{m['password_required']}" >
			</h:inputSecret>
			
			<h:outputLabel for="account" >
				<h:outputText value="#{m['user_accountno']}" />
			</h:outputLabel>
			<h:inputText id="account" size="40"
				value="#{userManager.user.accountNo}" required="true"
				requiredMessage="#{m['accountno_required']}">
				<f:validateRegex pattern="\d{6,6}"/>
			</h:inputText>
			
			<h:outputLabel for="bank" >
				<h:outputText value="#{m['user_bankcode']}" />
			</h:outputLabel>
			<h:inputText id="bank" size="40"
				value="#{userManager.user.bankCode}" required="true"
				requiredMessage="#{m['bankcode_required']}">
				<f:validateRegex pattern="\d{6,12}"/>
			</h:inputText>
			
			<h:outputLabel for="street" >
				<h:outputText value="#{m['user_street']}" />
			</h:outputLabel>
			<h:inputText id="street" size="40"
				value="#{userManager.user.address.street}" required="true"
				requiredMessage="#{m['street_required']}">
				<f:validateRegex pattern="\w{4,60}"/>
			</h:inputText>
			
			<h:outputLabel for="city" >
				<h:outputText value="#{m['user_city']}" />
			</h:outputLabel>
			<h:inputText id="city" size="40"
				value="#{userManager.user.address.city}" required="true"
				requiredMessage="#{m['city_required']}">
				<f:validateRegex pattern="\w{3,30}"/>
			</h:inputText>
			
			<h:outputLabel for="zip" >
				<h:outputText value="#{m['user_zipcode']}" />
			</h:outputLabel>
			<h:inputText id="zip" size="40"
				value="#{userManager.user.address.zipCode}" required="true"
				requiredMessage="#{m['zipcode_required']}">
				<f:validateRegex pattern="[0-9]{4,6}"/>
			</h:inputText>
			
			<h:commandButton styleClass="button" value="#{m['button.save']}" action="#{userManager.save()}"/>
		</h:form>
	</ui:define>
</ui:composition>
